<%= link_to("<< Back to List", {:action => 'index'}, :class => 'back-link') %>

<div>
  <h2>Show Shop</h2>

  <table>
    <tr>
    <!-- This is the shop cover image. Can either use image_tag function or the good old html. I used html for css image resizing -->
      <img src="<%= @shop.cover_url.to_s %>" style="width:200px;height:200px">
      <th>Shop Name</th>
      <td><%= @shop.shop_name %></td>
    </tr>
    <tr>
      <th>Shop Description</th>
      <td><%= @shop.shop_desc %></td>
    </tr>
    <tr>
    <th></th>
    <td>
    <!-- Check if user is logged in -->
    <% if user_signed_in?%>
    <!-- Check if user does not own this shop -->
    <% if !current_user.shops.include?(@shop)%>
    <!-- Check if user is not already following this shop -->
    <% if !current_user.followed_shops.include?(@shop) %>
    <!-- The Follow Shop button -->
    <%= button_to("Follow Shop", {:action => 'follow', :id => @shop.id}, :class => 'button') %>
    <%else%>
    You are currently following this shop.
    <%end%>
    <%end%>
    <%else%>
    You have to <%= link_to "login", new_user_session_path %> to follow a shop. 
    <%end%>
    </th>
    </tr>
  </table>

</div>
